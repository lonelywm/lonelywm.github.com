<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LAMP配置+ftp（以Ubuntu14为例） | 阿蒙的工作室</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="安装很简单，几个命令搞定
sudo apt-get update
sudo apt-get install apache2
sudo apt-get install php5 
sudo apt-get install mysql-server
sudo chmod 777 /var/www
一些常用的
apt-get install php5-gd
sudo apt-get install ph">
<meta property="og:type" content="article">
<meta property="og:title" content="LAMP配置+ftp（以Ubuntu14为例）">
<meta property="og:url" content="http://blog.wxameng.com/install-lamp-for-ubuntu14/index.html">
<meta property="og:site_name" content="阿蒙的工作室">
<meta property="og:description" content="安装很简单，几个命令搞定
sudo apt-get update
sudo apt-get install apache2
sudo apt-get install php5 
sudo apt-get install mysql-server
sudo chmod 777 /var/www
一些常用的
apt-get install php5-gd
sudo apt-get install ph">
<meta property="og:updated_time" content="2015-11-10T06:32:42.526Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LAMP配置+ftp（以Ubuntu14为例）">
<meta name="twitter:description" content="安装很简单，几个命令搞定
sudo apt-get update
sudo apt-get install apache2
sudo apt-get install php5 
sudo apt-get install mysql-server
sudo chmod 777 /var/www
一些常用的
apt-get install php5-gd
sudo apt-get install ph">
  
    <link rel="alternative" href="/atom.xml" title="阿蒙的工作室" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/uploads/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">阿蒙</a></h1>
		</hgroup>

		
		<p class="header-subtitle">每天进步一点点</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/categories/Linux">Linux</a></li>
				        
							<li><a href="/categories/Common">Windows</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Disasm/" style="font-size: 10px;">Disasm</a> <a href="/tags/caffe/" style="font-size: 10px;">caffe</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/guide/" style="font-size: 10px;">guide</a> <a href="/tags/lib/" style="font-size: 10px;">lib</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/lua/" style="font-size: 20px;">lua</a> <a href="/tags/message/" style="font-size: 10px;">message</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/qt/" style="font-size: 10px;">qt</a> <a href="/tags/qtableview/" style="font-size: 10px;">qtableview</a> <a href="/tags/ros/" style="font-size: 10px;">ros</a> <a href="/tags/shadowsocks/" style="font-size: 10px;">shadowsocks</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/static/" style="font-size: 10px;">static</a> <a href="/tags/tq/" style="font-size: 10px;">tq</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/vm/" style="font-size: 10px;">vm</a> <a href="/tags/windows/" style="font-size: 20px;">windows</a> <a href="/tags/反汇编/" style="font-size: 10px;">反汇编</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.wxameng.com/">我的WORDPRESS</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/lonely_wm/">我的CSDN</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">阿蒙</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/uploads/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">阿蒙</h1>
			</hgroup>
			
			<p class="header-subtitle">每天进步一点点</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/Linux">Linux</a></li>
		        
					<li><a href="/categories/Common">Windows</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-install-lamp-for-ubuntu14" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/install-lamp-for-ubuntu14/" class="article-date">
  	<time datetime="2015-09-30T16:21:50.000Z" itemprop="datePublished">2015-10-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      LAMP配置+ftp（以Ubuntu14为例）
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a><a class="article-category-link" href="/categories/Linux/Ubuntu/">Ubuntu</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>安装很简单，几个命令搞定</p>
<pre><code>sudo apt-get <span class="operator"><span class="keyword">update</span>
sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> apache2
sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> php5 
sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> mysql-<span class="keyword">server</span>
sudo chmod <span class="number">777</span> /<span class="keyword">var</span>/www</span>
</code></pre><p>一些常用的</p>
<pre><code>apt-get <span class="operator"><span class="keyword">install</span> php5-gd
sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> php5-mysql</span>
</code></pre><a id="more"></a>
<h2 id="1、设置密码">1、设置密码</h2><p>在新安装好Linux系统之后，想要用su root切换到root用户却不知道密码是什么，这个让人很惆怅刚安装好的Linux系统没有设置root用户密码的，下边介绍如何设置root用户的密码</p>
<p>第一步：sudo passwd<br>第二步：输入密码<br>第三步：确认密码</p>
<p>这样三个步骤过后root用户的密码就设置好了<br>切入root用户， su root 输入刚刚设置好的密码就可以了</p>
<h2 id="2、创建用户及密码修改">2、创建用户及密码修改</h2><p>若修改root自己的密码，直接输入 passwd 然后输入两次密码即可。<br>若修改其他用户，如oracle 的密码，可直接输入passwd oracle 输入两遍性新密码即可。</p>
<h2 id="3、使用vim">3、使用vim</h2><p>学会使用vim很有必要，尤其是当通过远程管理linux主机的时候，因为此时无法用gedit等GUI软件，只能使用这种基于命令行的文本编辑器</p>
<p>vi有三种模式：<br>(1)一般模式：进入vi的默认模式，能够进行复制、黏贴、删除等操作；<br>(2)编辑模式：从一般模式按下‘i’即可进入；<br>(3)命令行模式：从一般模式按下“:”、’?’、’/‘即可进入；</p>
<p>注意：如果安装了vim后，输入vi后也是使用vim编辑器，我们输入alias后看到“alias vi=’vim’”；</p>
<p>“命令行模式”的常用按键</p>
<pre><code><span class="pseudo">:w</span>  保存
<span class="pseudo">:q</span>  退出<span class="tag">vim</span>
<span class="pseudo">:wq</span>  保存并退出
<span class="pseudo">:wq</span>!  （在可以转换权限的情况下）强制保存并退出
<span class="pseudo">:q</span>!  直接退出不保存
<span class="pseudo">:w</span> <span class="tag">filename</span>  另存为<span class="tag">filename</span>
<span class="pseudo">:n</span>,<span class="tag">m</span> <span class="tag">w</span> <span class="tag">filename</span>  将第<span class="tag">n</span>行到第<span class="tag">m</span>行另存为<span class="tag">filename</span>
<span class="pseudo">:set</span> <span class="tag">nu</span>  显示行号
<span class="pseudo">:set</span> <span class="tag">nonu</span>  不显示行号
:! <span class="tag">command</span>  暂时离开<span class="tag">vim</span>，并执行<span class="tag">command</span>，执行完后再进入<span class="tag">vim</span>
<span class="pseudo">:r</span> <span class="tag">filename</span>  将<span class="tag">filename</span>文件的数据读入当前文件
<span class="pseudo">:set</span> <span class="keyword">all</span>  显示当前<span class="tag">vim</span>的环境配置
</code></pre><h2 id="4、创建ftp">4、创建ftp</h2><p>4.1 Ubuntu 下安装FTP软件当然选择大名鼎鼎的vsftpd（very secure FTP daemon）， Ubuntu装vsftpd很简单，一句命令就行：</p>
<pre><code>sudo <span class="keyword">rm</span> /etc/pam.<span class="keyword">d</span>/vsftpd（在ubuntu14中请先执行这一条，若没有执行可能会报错，后面第4点会提到）
sudo apt-get install vsftpd
</code></pre><p>命令执行过程中，安装程序会给本地创建一个名为“ftp”的用户组，命令执行完之后会自动启动FTP服务。<br>可以使用“netstat -tl”命令检查FTP端口有没有已经打开，或者直接在浏览器里输入“ftp://你的服务器IP”（新安装的vsftpd默认是可以匿名不需要密码直接访问），如果能直接连接到FTP服务器，则安装vsftpd算是大功告成。</p>
<p>4.2 开启、停止、重启vsftpd服务也很简单：</p>
<pre><code>service vsftpd <span class="literal">start</span> | <span class="literal">stop</span> | restart
</code></pre><p>4.3 新安装的vsftpd默认是可以匿名访问，如果只想给某一个用户专门访问某一目录下的权限，则需要修改vsftpd的配置了。<br>首先，创建一个专门用来访问的用户，例如叫“test”：</p>
<pre><code><span class="keyword">mkdir</span> -p /home/<span class="keyword">test</span>
sudo useradd -<span class="keyword">g</span> ftp -<span class="keyword">d</span> /home/<span class="keyword">test</span> -<span class="keyword">M</span> <span class="keyword">test</span>   (这里关键就是选取你要的目录为ftp的根目录/home/<span class="keyword">test</span>，注意根目录是没有写入权限的，这个后面会提到)
</code></pre><p>解释一下useradd：<br>ftp代表用户组是ftp，必须设定<br>-g initial_group　group名称或以数字来做为使用者登入起始群组(group)。群组名须为现有存在的名称。<br>-d 是在指定的目录下进行建立如；<br>-M是不建立使用者目录，即使/etc/login.defs系统档设定要建立使用者目录</p>
<p>PS: 删除用户用以下命令：</p>
<p>sudo userdel test </p>
<p>设置密码:</p>
<p>passwd test</p>
<p>修改vsftpd的配置文件“vi /etc/vsftpd.conf”：</p>
<p>#禁止匿名访问<br>anonymous_enable=NO</p>
<p>#接受本地用户<br>local_enable=YES</p>
<p>#可以上传</p>
<p>#chroot_local_user=YES<br>(解释：chroot_local_user=YES将所有用户限定在主目录内，chroot_list_enable=YES表示要启用chroot_list_file, 因为chroot_local_user=YES，即全体用户都被“限定在主目录内”,所以总是作为“例外列表”的chroot_list_file这时列出的是那些“不会被限制在主目录下”的用户。)<br>write_enable=YES<br>local_umask=022</p>
<p>#启用在chroot_list_file的用户只能访问根目录<br>chroot_list_enable=YES<br>chroot_list_file=/etc/vsftpd.chroot_list</p>
<p>在/etc/vsftpd.chroot_list添加受访问目录限制的用户：</p>
<p>echo test &gt;&gt; vi /etc/vsftpd.chroot_list</p>
<p>可以在本地测试ftp<br>命令：ftp 127.0.0.1<br>输入当前用户的密码后显示 &gt;ftp<br>输入 bye 或者 quit 可以退出ftp</p>
<p>“500 OOPS: vsftpd: refusing to run with writable root inside chroot()”</p>
<p>启用了chroot的话，根目录要设置为不可写，这是vsftp的保护机制。</p>
<p>chmod a-w /home/test</p>
<p>那么用户登陆FTP就可以访问到test下的东西，但是没法去上传文件。如果把test文件夹设置成777权限，那么FTP就登陆不上去。</p>
<p>所以解决办法是。在test文件夹下再创建一个文件夹“/home/test/wwwroot”，将wwwroot设置成777就可以了，那么以后上传东西就上传到wwwroot里。</p>
<p>OK，重启vsftpd之后就可以使用上面新创建的账号访问。</p>
<p>4.4 但是使用ftp 命令登陆的时候总是提示如下的错误</p>
<p>root@server:~# ftp localhost<br>Connected to localhost.<br>220 (vsFTPd 2.3.5)<br>Name (localhost:root): ubuntu<br>331 Please specify the password.<br>Password:<br>530 Login incorrect.<br>Login failed.</p>
<p>于是我在网上搜了下看看大家都是怎么解决的，最后终于找到了解决的办法</p>
<p>sudo apt-get remove vsftpd<br>sudo rm /etc/pam.d/vsftpd<br>sudo apt-get install vsftpd  </p>
<p>这是因为ubuntu启用了PAM,所在用到vsftp时需要用到 /etc/pam.d/vsftpd 这个文件（默认源码安装的不会有这个文件），因此除了匿名用户外本地用户无法登录。所以只要删除了就可以了。</p>
<p>4.5 修改ftp的目录</p>
<h2 id="5、配置Mysql">5、配置Mysql</h2><p>5.1 在安装mysql的时候会设置一个初始的用户名和密码比如用户名可以上root，但是注意这个root不是系统的root<br>首先用初始密码登陆<br>mysql -h localhost -u root -p123   （密码是123，密码前面必须有一个p，而且必须连在一起）(注意有些时候localhost无法连接，需要换成127.0.0.1)</p>
<p>5.2 我们可以修改密码：<br>方法一：</p>
<p>mysql&gt;set password =password(&#039;你的密码&#039;);<br>mysql&gt;flush privileges;</p>
<p>方法二.使用GRANT语句</p>
<p>mysql&gt;grant all on <em>.</em> to &#039;root&#039;@&#039;localhost&#039; IDENTIFIED BY &#039;你的密码&#039;with grant option ;<br>mysql&gt;flush privileges;</p>
<p>方法三.进入mysql库修改user表</p>
<p>mysql&gt;use mysql;<br>mysql&gt;update user set password=password(&#039;你的密码&#039;) where user=&#039;root&#039;;<br>mysql&gt;flush privileges;</p>
<p>5.3 MySQL 连接远程数据库（192.168.0.201），端口“3306”，用户名为“root”，密码“123”</p>
<p>C:&gt;mysql -h 192.168.0.201 -P 3306 -u root -p123</p>
<p>赋予远程权限<br>在Ubuntu下需要首先：（为什么，不知道）<br>在目录/etc/mysql下找到my.cnf，用vim编辑，找到my.cnf里面的</p>
<p>bind-address           = 127.0.0.1<br>在mysql的命令行下面输入：</p>
<p>grant all privileges on databasename.<em> to root@120.00.00.00 identified by &#039;123456mima&#039;;   （databasename：是数据库名，也可以改为</em>，120.00.00.00，是你的ip，root是你的mysql用户名，）方法其实还用很多种，这种比较简单</p>
<p>比如更高权限的 grant all PRIVILEGES on <em>.</em> to admin@&#039;%&#039; identified by &#039;123456&#039;;  就是赋予了所有的数据库权限，用户名为admin，对于所有ip可以访问，密码123456.<br>flush privileges;</p>
<h2 id="6、附件一些其他模块的安装">6、附件一些其他模块的安装</h2><p>6.1 curl_init — 初始化一个cURL会话<br>解决办法：<br>1，安装php5-curl模块，默认路径会在/etc/php5/路径下</p>
<p>sudo apt-get install php5-curl</p>
<p>2，重启Apache服务器加载curl模块</p>
<p>sudo service apache restart   #或者是 sudo service apache2 restart</p>
<p>3，刷新。OK<br>7、附加一些常用命令</p>
<p>unzip file.zip  解压缩<br>cp -f -r /home/ftp/www/ /var/www/   直接覆盖的copy，不提示</p>
<h2 id="7、一些错误的解决方法">7、一些错误的解决方法</h2><h3 id="1_apache2">1 apache2</h3><p>Starting web server apache2<br>apache2: Could not reliably determine the server&#039;s fully qualified domain name,<br>… waiting apache2: Could not reliably determine the server&#039;s fully qualified domain name, using 127.0.1.1 for ServerName</p>
<p>vim /etc/apache2/apache2.conf</p>
<p>在最下面添加一行：ServerName localhost:80</p>
<h3 id="ftp_登陆不上">ftp 登陆不上</h3><p>linux FTP 链接不上，错误提示：服务器无法识别命令。请使用原始ftp“HELP”来识别服务器所支持的所有命令。</p>
<p>点击详细错误的时候是下面的提示<br>vsftpd: refusing to run with writable root inside chroot() 错误的解决办法<br>一下是解决办法：<br>为了避免一个安全漏洞，从 vsftpd 2.3.5 开始，chroot 目录必须不可写。使用命令：<br>&#039;&#039;&#039;<br> chmod a-w /home/user<br>&#039;&#039;&#039;<br>user 为FTP所连接的目录</p>
<h2 id="8、一些设置选项">8、一些设置选项</h2><h3 id="1、apache的网站路径配置">1、apache的网站路径配置</h3><p>sudo vim /etc/apache2/sites-enabled/000-default.conf</p>
<p>找到这一行</p>
<p> DocumentRoot /home/mysite</p>
<p>设置权限 不允许访问没有index.*文件的目录</p>
<p>&lt;Directory /var/www/html&gt;<br>        Options Indexes FollowSymLinks<br>        AllowOverride None<br>        Require all granted<br>&lt;/Directory&gt;</p>
<p>&lt;Directory /var/www/html&gt;<br>        Options FollowSymLinks<br>        AllowOverride None<br>        Require all granted<br>&lt;/Directory&gt;</p>
<h2 id="附录">附录</h2><h3 id="etc/vsftpd-conf_配置信息vs">etc/vsftpd.conf 配置信息vs</h3><p>[shell]</p>
<h1 id="Example_config_file_/etc/vsftpd-conf">Example config file /etc/vsftpd.conf</h1><p>#</p>
<h1 id="The_default_compiled_in_settings_are_fairly_paranoid-_This_sample_file">The default compiled in settings are fairly paranoid. This sample file</h1><h1 id="loosens_things_up_a_bit,_to_make_the_ftp_daemon_more_usable-">loosens things up a bit, to make the ftp daemon more usable.</h1><h1 id="Please_see_vsftpd-conf-5_for_all_compiled_in_defaults-">Please see vsftpd.conf.5 for all compiled in defaults.</h1><p>#</p>
<h1 id="READ_THIS:_This_example_file_is_NOT_an_exhaustive_list_of_vsftpd_options-">READ THIS: This example file is NOT an exhaustive list of vsftpd options.</h1><h1 id="Please_read_the_vsftpd-conf-5_manual_page_to_get_a_full_idea_of_vsftpd’s">Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd’s</h1><h1 id="capabilities-">capabilities.</h1><p>#<br>#</p>
<h1 id="Run_standalone?_vsftpd_can_run_either_from_an_inetd_or_as_a_standalone">Run standalone?  vsftpd can run either from an inetd or as a standalone</h1><h1 id="daemon_started_from_an_initscript-">daemon started from an initscript.</h1><p>listen=YES<br>#</p>
<h1 id="Run_standalone_with_IPv6?">Run standalone with IPv6?</h1><h1 id="Like_the_listen_parameter,_except_vsftpd_will_listen_on_an_IPv6_socket">Like the listen parameter, except vsftpd will listen on an IPv6 socket</h1><h1 id="instead_of_an_IPv4_one-_This_parameter_and_the_listen_parameter_are_mutually">instead of an IPv4 one. This parameter and the listen parameter are mutually</h1><h1 id="exclusive-">exclusive.</h1><p>#listen_ipv6=YES<br>#</p>
<h1 id="Allow_anonymous_FTP?_(Disabled_by_default)">Allow anonymous FTP? (Disabled by default)</h1><p>anonymous_enable=NO<br>#</p>
<h1 id="Uncomment_this_to_allow_local_users_to_log_in-">Uncomment this to allow local users to log in.</h1><p>local_enable=YES<br>#</p>
<h1 id="Uncomment_this_to_enable_any_form_of_FTP_write_command-">Uncomment this to enable any form of FTP write command.</h1><p>write_enable=YES<br>#</p>
<h1 id="Default_umask_for_local_users_is_077-_You_may_wish_to_change_this_to_022,">Default umask for local users is 077. You may wish to change this to 022,</h1><h1 id="if_your_users_expect_that_(022_is_used_by_most_other_ftpd’s)">if your users expect that (022 is used by most other ftpd’s)</h1><p>#local_umask=022<br>#</p>
<h1 id="Uncomment_this_to_allow_the_anonymous_FTP_user_to_upload_files-_This_only">Uncomment this to allow the anonymous FTP user to upload files. This only</h1><h1 id="has_an_effect_if_the_above_global_write_enable_is_activated-_Also,_you_will">has an effect if the above global write enable is activated. Also, you will</h1><h1 id="obviously_need_to_create_a_directory_writable_by_the_FTP_user-">obviously need to create a directory writable by the FTP user.</h1><p>#anon_upload_enable=YES<br>#</p>
<h1 id="Uncomment_this_if_you_want_the_anonymous_FTP_user_to_be_able_to_create">Uncomment this if you want the anonymous FTP user to be able to create</h1><h1 id="new_directories-">new directories.</h1><p>#anon_mkdir_write_enable=YES<br>#</p>
<h1 id="Activate_directory_messages_-_messages_given_to_remote_users_when_they">Activate directory messages - messages given to remote users when they</h1><h1 id="go_into_a_certain_directory-">go into a certain directory.</h1><p>dirmessage_enable=YES<br>#</p>
<h1 id="If_enabled,_vsftpd_will_display_directory_listings_with_the_time">If enabled, vsftpd will display directory listings with the time</h1><h1 id="in_your_local_time_zone-_The_default_is_to_display_GMT-_The">in  your  local  time  zone.  The default is to display GMT. The</h1><h1 id="times_returned_by_the_MDTM_FTP_command_are_also_affected_by_this">times returned by the MDTM FTP command are also affected by this</h1><h1 id="option-">option.</h1><p>use_localtime=YES<br>#</p>
<h1 id="Activate_logging_of_uploads/downloads-">Activate logging of uploads/downloads.</h1><p>xferlog_enable=YES<br>#</p>
<h1 id="Make_sure_PORT_transfer_connections_originate_from_port_20_(ftp-data)-">Make sure PORT transfer connections originate from port 20 (ftp-data).</h1><p>connect_from_port_20=YES<br>#</p>
<h1 id="If_you_want,_you_can_arrange_for_uploaded_anonymous_files_to_be_owned_by">If you want, you can arrange for uploaded anonymous files to be owned by</h1><h1 id="a_different_user-_Note!_Using_root_for_uploaded_files_is_not">a different user. Note! Using root for uploaded files is not</h1><h1 id="recommended!">recommended!</h1><p>#chown_uploads=YES</p>
<p>#chown_username=whoever<br>#</p>
<h1 id="You_may_override_where_the_log_file_goes_if_you_like-_The_default_is_shown">You may override where the log file goes if you like. The default is shown</h1><h1 id="below-">below.</h1><p>#xferlog_file=/var/log/vsftpd.log<br>#</p>
<h1 id="If_you_want,_you_can_have_your_log_file_in_standard_ftpd_xferlog_format-">If you want, you can have your log file in standard ftpd xferlog format.</h1><h1 id="Note_that_the_default_log_file_location_is_/var/log/xferlog_in_this_case-">Note that the default log file location is /var/log/xferlog in this case.</h1><p>#xferlog_std_format=YES<br>#</p>
<h1 id="You_may_change_the_default_value_for_timing_out_an_idle_session-">You may change the default value for timing out an idle session.</h1><p>#idle_session_timeout=600<br>#</p>
<h1 id="You_may_change_the_default_value_for_timing_out_a_data_connection-">You may change the default value for timing out a data connection.</h1><p>#data_connection_timeout=120<br>#</p>
<h1 id="It_is_recommended_that_you_define_on_your_system_a_unique_user_which_the">It is recommended that you define on your system a unique user which the</h1><h1 id="ftp_server_can_use_as_a_totally_isolated_and_unprivileged_user-">ftp server can use as a totally isolated and unprivileged user.</h1><p>#nopriv_user=ftpsecure<br>#</p>
<h1 id="Enable_this_and_the_server_will_recognise_asynchronous_ABOR_requests-_Not">Enable this and the server will recognise asynchronous ABOR requests. Not</h1><h1 id="recommended_for_security_(the_code_is_non-trivial)-_Not_enabling_it,">recommended for security (the code is non-trivial). Not enabling it,</h1><h1 id="however,_may_confuse_older_FTP_clients-">however, may confuse older FTP clients.</h1><p>#async_abor_enable=YES<br>#</p>
<h1 id="By_default_the_server_will_pretend_to_allow_ASCII_mode_but_in_fact_ignore">By default the server will pretend to allow ASCII mode but in fact ignore</h1><h1 id="the_request-_Turn_on_the_below_options_to_have_the_server_actually_do_ASCII">the request. Turn on the below options to have the server actually do ASCII</h1><h1 id="mangling_on_files_when_in_ASCII_mode-">mangling on files when in ASCII mode.</h1><h1 id="Beware_that_on_some_FTP_servers,_ASCII_support_allows_a_denial_of_service">Beware that on some FTP servers, ASCII support allows a denial of service</h1><h1 id="attack_(DoS)_via_the_command_SIZE_/big/file_in_ASCII_mode-_vsftpd">attack (DoS) via the command SIZE /big/file in ASCII mode. vsftpd</h1><h1 id="predicted_this_attack_and_has_always_been_safe,_reporting_the_size_of_the">predicted this attack and has always been safe, reporting the size of the</h1><h1 id="raw_file-">raw file.</h1><h1 id="ASCII_mangling_is_a_horrible_feature_of_the_protocol-">ASCII mangling is a horrible feature of the protocol.</h1><p>#ascii_upload_enable=YES</p>
<p>#ascii_download_enable=YES<br>#</p>
<h1 id="You_may_fully_customise_the_login_banner_string:">You may fully customise the login banner string:</h1><p>ftpd_banner=Welcome to linuxidc’s FTP service.<br>#</p>
<h1 id="You_may_specify_a_file_of_disallowed_anonymous_e-mail_addresses-_Apparently">You may specify a file of disallowed anonymous e-mail addresses. Apparently</h1><h1 id="useful_for_combatting_certain_DoS_attacks-">useful for combatting certain DoS attacks.</h1><p>#deny_email_enable=YES</p>
<h1 id="(default_follows)">(default follows)</h1><p>#banned_email_file=/etc/vsftpd.banned_emails<br>#</p>
<h1 id="You_may_restrict_local_users_to_their_home_directories-_See_the_FAQ_for">You may restrict local users to their home directories.  See the FAQ for</h1><h1 id="the_possible_risks_in_this_before_using_chroot_local_user_or">the possible risks in this before using chroot_local_user or</h1><h1 id="chroot_list_enable_below-">chroot_list_enable below.</h1><p>#chroot_local_user=YES<br>#</p>
<h1 id="You_may_specify_an_explicit_list_of_local_users_to_chroot()_to_their_home">You may specify an explicit list of local users to chroot() to their home</h1><h1 id="directory-_If_chroot_local_user_is_YES,_then_this_list_becomes_a_list_of">directory. If chroot_local_user is YES, then this list becomes a list of</h1><h1 id="users_to_NOT_chroot()-">users to NOT chroot().</h1><h1 id="(Warning!_chroot’ing_can_be_very_dangerous-_If_using_chroot,_make_sure_that">(Warning! chroot’ing can be very dangerous. If using chroot, make sure that</h1><h1 id="the_user_does_not_have_write_access_to_the_top_level_directory_within_the">the user does not have write access to the top level directory within the</h1><h1 id="chroot)">chroot)</h1><p>#chroot_local_user=YES<br>chroot_list_enable=YES</p>
<h1 id="(default_follows)-1">(default follows)</h1><p>chroot_list_file=/etc/vsftpd.chroot_list<br>#</p>
<h1 id="You_may_activate_the_-R_option_to_the_builtin_ls-_This_is_disabled_by">You may activate the -R option to the builtin ls. This is disabled by</h1><h1 id="default_to_avoid_remote_users_being_able_to_cause_excessive_I/O_on_large">default to avoid remote users being able to cause excessive I/O on large</h1><h1 id="sites-_However,_some_broken_FTP_clients_such_as_ncftp_and_mirror_assume">sites. However, some broken FTP clients such as ncftp and mirror assume</h1><h1 id="the_presence_of_the_-R_option,_so_there_is_a_strong_case_for_enabling_it-">the presence of the -R option, so there is a strong case for enabling it.</h1><p>#ls_recurse_enable=YES<br>#</p>
<h1 id="Customization">Customization</h1><p>#</p>
<h1 id="Some_of_vsftpd’s_settings_don’t_fit_the_filesystem_layout_by">Some of vsftpd’s settings don’t fit the filesystem layout by</h1><h1 id="default-">default.</h1><p>#</p>
<h1 id="This_option_should_be_the_name_of_a_directory_which_is_empty-_Also,_the">This option should be the name of a directory which is empty.  Also, the</h1><h1 id="directory_should_not_be_writable_by_the_ftp_user-_This_directory_is_used">directory should not be writable by the ftp user. This directory is used</h1><h1 id="as_a_secure_chroot()_jail_at_times_vsftpd_does_not_require_filesystem">as a secure chroot() jail at times vsftpd does not require filesystem</h1><h1 id="access-">access.</h1><p>secure_chroot_dir=/var/run/vsftpd/empty<br>#</p>
<h1 id="This_string_is_the_name_of_the_PAM_service_vsftpd_will_use-">This string is the name of the PAM service vsftpd will use.</h1><p>pam_service_name=vsftpd<br>#</p>
<h1 id="This_option_specifies_the_location_of_the_RSA_certificate_to_use_for_SSL">This option specifies the location of the RSA certificate to use for SSL</h1><h1 id="encrypted_connections-">encrypted connections.</h1><p>rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem</p>
<h1 id="This_option_specifies_the_location_of_the_RSA_key_to_use_for_SSL">This option specifies the location of the RSA key to use for SSL</h1><h1 id="encrypted_connections--1">encrypted connections.</h1><p>rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key<br>#<br>local_root=/home/linuxidc/公共的/FTP共享文件<br>[/shell]</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/linux-shadowsocks-ubuntu14/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          ubuntu14下使用shadowsocks客户端
        
      </div>
    </a>
  
  
    <a href="/lua-for-windows/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">windows下使用lua教程(转)</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 阿蒙
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>